<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles/style.css" />
    <link rel="icon" href="../assets/images/flores.png" type="image/x-icon" />
    <title>21, September</title>
  </head>

  <body>
    <audio
      id="backgroundAudio"
      src="./assets/sounds/ChristianBasso&HaienQiu-Flowers.mp3"
      loop
      preload="auto"
    ></audio>

    <!-- Bot贸n para reproducir audio en m贸viles -->
    <div id="audioControls" class="audio-controls">
      <button id="playButton" class="play-button"></button>
    </div>
    <div class="greetings">
      <span>H</span>
      <span>o</span>
      <span>l</span>
      <span>a</span>
      <span>,</span>
      <span>&nbsp;</span>
      <span>M</span>
      <span>a</span>
      <span>r</span>
      <span>i</span>
      <span>a</span>
      <span></span>
    </div>

    <div class="description">
      <span>Este detalle es para ti, espero que te guste わ </span>
    </div>
    <div class="button">
      <a href="./pages/flowers.html">CLICK AQUI</a>
    </div>

    <script>
      // Detectar si es dispositivo m贸vil
      const isMobile =
        /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
          navigator.userAgent
        );

      const audio = document.getElementById("backgroundAudio");
      const playButton = document.getElementById("playButton");
      const audioControls = document.getElementById("audioControls");

      // En escritorio, intentar reproducir autom谩ticamente
      if (!isMobile) {
        audio.play().catch((e) => {
          console.log("Autoplay bloqueado:", e);
          audioControls.style.display = "block";
        });
      } else {
        // En m贸viles, mostrar el bot贸n de reproducci贸n
        audioControls.style.display = "block";
      }

      // Manejar clic en el bot贸n de reproducci贸n
      playButton.addEventListener("click", () => {
        if (audio.paused) {
          audio
            .play()
            .then(() => {
              playButton.textContent = "";
              audioControls.style.opacity = "0.3";
            })
            .catch((e) => {
              console.log("Error al reproducir:", e);
            });
        } else {
          audio.pause();
          playButton.textContent = "";
        }
      });

      // Ocultar controles despu茅s de que el usuario interact煤e
      audio.addEventListener("play", () => {
        setTimeout(() => {
          audioControls.style.opacity = "0.3";
        }, 2000);
      });
    </script>
  </body>
</html>
